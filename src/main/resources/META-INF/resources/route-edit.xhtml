<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	 xmlns:c = "http://java.sun.com/jsf/composite/components"
	>
<ui:composition template="layout.xhtml">
	<ui:define name="title">
    	Route editor
	</ui:define>
     
     <f:metadata>
          <f:event type="preRenderView" listener="#{routeEditController.init()}"/>
      </f:metadata>
      
	<ui:define name="content">

				
       	<b:panel title="Route editor"  look="primary" collapsible="false">

		<h:form >
	
			<b:growl id="growl"
		         globalOnly="true"
		         showDetail="true"
		         severity="info,warn"/>
		
			<b:container fluid="true">
				<b:row>
					<b:column medium-screen="12" >
						<b:message for="route-id" />
					</b:column>
				</b:row>
				<b:row>
					<b:column medium-screen="12" >
						<b:inputText label="Route name:" disabled="#{!routeEditController.isNew}" placeholder="route-name" value="#{routeEditController.routeId}" />
					</b:column>
				</b:row>
				
				<b:row>
					<b:column medium-screen="12"   >
						<b:message for="route-xml" />
					</b:column>
				</b:row>
				
				<b:row>
					<b:column medium-screen="12"  >
					<div class="form-group">
						<label class="control-label">Definition:</label>
						<pe:codeMirror id="codeMirror"  mode="xml" theme="material"  
						    value="#{routeEditController.xml}" keyMap="default" lineNumbers="true" 
						    lineWrapping="true" 
						    matchBrackets="true" />  

					</div>						    						
					</b:column>
				</b:row>
				<b:row>
					<b:column span="2" >
						<c:uri-check-button value="URI check..."/>
					</b:column>
						
					<b:column span="2" offset="6">
						<b:commandButton value="Save" look="primary" style="width:100%"  update="@form"
							action="#{routeEditController.save}"  />
					</b:column>
					<b:column span="2">
						<b:commandButton value="Cancel" look="primary"
							style="width:100%"
							action="#{routeEditController.cancel}"   />
					</b:column>
				</b:row>
			</b:container>
		</h:form>
		</b:panel>
	</ui:define>
</ui:composition>
</html>